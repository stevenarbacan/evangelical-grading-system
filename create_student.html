<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Registration Form</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body { 
            font-family: 'Inter', sans-serif; 
        }

        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .form-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .input-group {
            position: relative;
        }

        .floating-label {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            background: white;
            padding: 0 8px;
            color: #6b7280;
            transition: all 0.3s ease;
            pointer-events: none;
            font-size: 16px;
        }

        .form-input:focus + .floating-label,
        .form-input:not(:placeholder-shown) + .floating-label {
            top: 0;
            font-size: 12px;
            color: #667eea;
            font-weight: 500;
        }

        .form-input {
            transition: all 0.3s ease;
        }

        .form-input:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            outline: none;
        }

        .form-input:invalid {
            border-color: #ef4444;
        }

        .form-input:invalid:focus {
            box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background-color: #f3f4f6;
            transform: translateY(-1px);
        }

        .section-card {
            transition: all 0.3s ease;
        }

        .section-card:hover {
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .progress-bar {
            transition: width 0.5s ease;
        }

        .fade-in {
            animation: fadeIn 0.6s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .step-indicator {
            transition: all 0.3s ease;
        }

        .step-indicator.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: scale(1.1);
        }

        .step-indicator.completed {
            background: #10b981;
            color: white;
        }

        /* Custom scrollbar */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 10px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 10px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* Mobile optimizations */
        @media (max-width: 640px) {
            .floating-label {
                font-size: 14px;
            }
            
            .form-input:focus + .floating-label,
            .form-input:not(:placeholder-shown) + .floating-label {
                font-size: 11px;
            }

            .container {
                padding-left: 1rem;
                padding-right: 1rem;
            }

            .form-container {
                padding: 1rem;
            }

            .section-card {
                padding: 1rem;
            }

            .grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .step-indicator {
                width: 2rem;
                height: 2rem;
                font-size: 0.75rem;
            }

            .w-12, .w-20 {
                width: 2rem;
            }

            h1 {
                font-size: 1.875rem;
            }

            .text-lg {
                font-size: 1rem;
            }

            .space-x-8 {
                gap: 1rem;
            }

            .space-x-16 {
                gap: 2rem;
            }

            .px-8 {
                padding-left: 1rem;
                padding-right: 1rem;
            }

            #imagePreview {
                width: 6rem !important;
                height: 6rem !important;
            }
        }

        /* Tablet optimizations */
        @media (min-width: 641px) and (max-width: 1024px) {
            .container {
                padding-left: 2rem;
                padding-right: 2rem;
            }

            .grid-cols-1.sm\\:grid-cols-2 {
                grid-template-columns: 1fr;
            }

            .form-container {
                padding: 2rem;
            }

            .section-card {
                padding: 1.5rem;
            }
        }

        /* Large screen optimizations */
        @media (min-width: 1025px) {
            .container {
                max-width: 56rem;
            }

            .form-container {
                padding: 3rem;
            }

            .section-card {
                padding: 2rem;
            }
        }

        /* Ultra-wide screen optimizations */
        @media (min-width: 1440px) {
            .container {
                max-width: 64rem;
            }
        }

        /* Height-based optimizations for landscape phones */
        @media (max-height: 500px) and (orientation: landscape) {
            .py-4, .py-8 {
                padding-top: 0.5rem;
                padding-bottom: 0.5rem;
            }

            .mb-8 {
                margin-bottom: 1rem;
            }

            .space-y-8 > * + * {
                margin-top: 1rem;
            }
        }

        /* Touch-friendly improvements */
        @media (hover: none) and (pointer: coarse) {
            .form-input, .btn-primary, .btn-secondary {
                min-height: 44px;
            }

            .step-indicator {
                min-width: 44px;
                min-height: 44px;
            }
        }
    </style>
</head>
<body class="gradient-bg min-h-screen py-4 sm:py-8">
    <div class="container mx-auto px-4 max-w-4xl">
        <!-- Header -->
        <div class="text-center mb-8 fade-in">
            <div class="inline-flex items-center justify-center w-16 h-16 bg-white rounded-full shadow-lg mb-4">
                <svg class="w-8 h-8 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                </svg>
            </div>
            <h1 class="text-3xl sm:text-4xl font-bold text-white mb-2">Student Registration</h1>
            <p class="text-indigo-100 text-lg">Join our academic community today</p>
        </div>

        <!-- Progress Indicator -->
        <div class="mb-8 fade-in">
            <div class="flex items-center justify-center space-x-4 mb-4">
                <div class="step-indicator active w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold bg-white text-gray-600">
                    1
                </div>
                <div class="w-12 sm:w-20 h-1 bg-white bg-opacity-30 rounded-full">
                    <div class="progress-bar h-full bg-white rounded-full" style="width: 100%"></div>
                </div>
                <div class="step-indicator w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold bg-white bg-opacity-30 text-white">
                    2
                </div>
                <div class="w-12 sm:w-20 h-1 bg-white bg-opacity-30 rounded-full">
                    <div class="progress-bar h-full bg-white rounded-full" style="width: 0%"></div>
                </div>
                <div class="step-indicator w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold bg-white bg-opacity-30 text-white">
                    3
                </div>
            </div>
            <div class="flex justify-center space-x-8 sm:space-x-16 text-white text-xs sm:text-sm">
                <span class="font-medium">Account Info</span>
                <span class="opacity-70">Personal Details</span>
                <span class="opacity-70">Parent Info</span>
            </div>
        </div>

        <!-- Form Container -->
        <div class="form-container rounded-2xl shadow-2xl p-6 sm:p-8 fade-in">
            <form id="studentForm" class="space-y-8">
                <!-- Step 1: Account Information -->
                <div id="step1" class="step-content">
                    <div class="section-card bg-gray-50 rounded-xl p-6 mb-6">
                        <div class="flex items-center mb-4">
                            <div class="w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center mr-3">
                                <svg class="w-5 h-5 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                                </svg>
                            </div>
                            <h2 class="text-xl font-semibold text-gray-900">Account Information</h2>
                        </div>
                        <p class="text-gray-600 mb-6">Create your login credentials for the student portal</p>

                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                            <!-- Username -->
                            <div class="input-group">
                                <input 
                                    type="text" 
                                    id="username" 
                                    name="username"
                                    class="form-input w-full px-4 py-3 border-2 border-gray-300 rounded-lg text-gray-900 placeholder-transparent"
                                    placeholder="Username"
                                    required
                                    minlength="3"
                                    pattern="[a-zA-Z0-9_]+"
                                    title="Username can only contain letters, numbers, and underscores"
                                >
                                <label for="username" class="floating-label">Username</label>
                                <div class="mt-1 text-xs text-gray-500">
                                    <span class="flex items-center">
                                        <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                        </svg>
                                        Letters, numbers, and underscores only
                                    </span>
                                </div>
                            </div>

                            <!-- Password -->
                            <div class="input-group">
                                <input 
                                    type="password" 
                                    id="password" 
                                    name="password"
                                    class="form-input w-full px-4 py-3 border-2 border-gray-300 rounded-lg text-gray-900 placeholder-transparent"
                                    placeholder="Password"
                                    required
                                    minlength="6"
                                >
                                <label for="password" class="floating-label">Password</label>
                                <div class="mt-1 text-xs text-gray-500">
                                    <span class="flex items-center">
                                        <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                                        </svg>
                                        Minimum 6 characters
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Navigation -->
                    <div class="flex justify-end">
                        <button type="button" onclick="nextStep()" class="btn-primary px-4 sm:px-8 py-3 text-white font-semibold rounded-lg shadow-lg w-full sm:w-auto">
                            Next Step
                            <svg class="w-5 h-5 ml-2 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Step 2: Personal Information -->
                <div id="step2" class="step-content hidden">
                    <div class="section-card bg-gray-50 rounded-xl p-6 mb-6">
                        <div class="flex items-center mb-4">
                            <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center mr-3">
                                <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                </svg>
                            </div>
                            <h2 class="text-xl font-semibold text-gray-900">Personal Information</h2>
                        </div>
                        <p class="text-gray-600 mb-6">Tell us about yourself</p>

                        <!-- Profile Image Upload -->
                        <div class="mb-8">
                            <div class="flex flex-col items-center">
                                <div class="relative">
                                    <div id="imagePreview" class="w-32 h-32 sm:w-32 sm:h-32 rounded-full bg-gray-100 border-4 border-dashed border-gray-300 flex items-center justify-center overflow-hidden transition-all duration-300 hover:border-indigo-400 hover:bg-indigo-50">
                                        <div id="placeholderContent" class="text-center">
                                            <svg class="w-12 h-12 text-gray-400 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                                            </svg>
                                            <p class="text-xs text-gray-500">Profile Photo</p>
                                        </div>
                                        <img id="previewImg" class="w-full h-full object-cover hidden" alt="Profile preview">
                                    </div>
                                    <button type="button" id="removeImage" class="absolute -top-2 -right-2 w-8 h-8 bg-red-500 text-white rounded-full hidden items-center justify-center hover:bg-red-600 transition-colors">
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                        </svg>
                                    </button>
                                </div>
                                <div class="mt-4 text-center">
                                    <label for="profileImage" class="cursor-pointer inline-flex items-center px-4 py-2 bg-white border-2 border-indigo-300 rounded-lg text-indigo-600 hover:bg-indigo-50 hover:border-indigo-400 transition-all duration-200">
                                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                                        </svg>
                                        Choose Photo
                                    </label>
                                    <input 
                                        type="file" 
                                        id="profileImage" 
                                        name="profileImage"
                                        accept="image/*"
                                        class="hidden"
                                    >
                                    <p class="text-xs text-gray-500 mt-2">JPG, PNG or GIF (max 20MB)</p>
                                </div>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                            <!-- First Name -->
                            <div class="input-group">
                                <input 
                                    type="text" 
                                    id="firstName" 
                                    name="firstName"
                                    class="form-input w-full px-4 py-3 border-2 border-gray-300 rounded-lg text-gray-900 placeholder-transparent"
                                    placeholder="First Name"
                                    required
                                    pattern="[A-Za-z\s]+"
                                    title="First name can only contain letters and spaces"
                                >
                                <label for="firstName" class="floating-label">First Name</label>
                            </div>

                            <!-- Last Name -->
                            <div class="input-group">
                                <input 
                                    type="text" 
                                    id="lastName" 
                                    name="lastName"
                                    class="form-input w-full px-4 py-3 border-2 border-gray-300 rounded-lg text-gray-900 placeholder-transparent"
                                    placeholder="Last Name"
                                    required
                                    pattern="[A-Za-z\s]+"
                                    title="Last name can only contain letters and spaces"
                                >
                                <label for="lastName" class="floating-label">Last Name</label>
                            </div>

                            <!-- Grade -->
                            <div class="input-group">
                                <select 
                                    id="grade" 
                                    name="grade"
                                    class="form-input w-full px-4 py-3 border-2 border-gray-300 rounded-lg text-gray-900"
                                    required
                                >
                                    <option value="">Select Grade</option>
                                    <option value="kindergarten">Kindergarten</option>
                                    <option value="1">1st Grade</option>
                                    <option value="2">2nd Grade</option>
                                    <option value="3">3rd Grade</option>
                                    <option value="4">4th Grade</option>
                                    <option value="5">5th Grade</option>
                                    <option value="6">6th Grade</option>
                                    <option value="7">7th Grade</option>
                                    <option value="8">8th Grade</option>
                                    <option value="9">9th Grade</option>
                                    <option value="10">10th Grade</option>
                                    <option value="11">11th Grade</option>
                                    <option value="12">12th Grade</option>
                                </select>
                            </div>

                            <!-- Date of Birth -->
                            <div class="input-group">
                                <input 
                                    type="date" 
                                    id="dateOfBirth" 
                                    name="dateOfBirth"
                                    class="form-input w-full px-4 py-3 border-2 border-gray-300 rounded-lg text-gray-900"
                                    required
                                >
                                <label for="dateOfBirth" class="floating-label">Date of Birth</label>
                            </div>
                        </div>

                        <!-- Address -->
                        <div class="mt-6">
                            <div class="input-group">
                                <textarea 
                                    id="address" 
                                    name="address"
                                    rows="3"
                                    class="form-input w-full px-4 py-3 border-2 border-gray-300 rounded-lg text-gray-900 placeholder-transparent resize-none"
                                    placeholder="Address"
                                    required
                                ></textarea>
                                <label for="address" class="floating-label">Complete Address</label>
                            </div>
                        </div>
                    </div>

                    <!-- Navigation -->
                    <div class="flex flex-col sm:flex-row justify-between gap-4">
                        <button type="button" onclick="prevStep()" class="btn-secondary px-4 sm:px-8 py-3 text-gray-700 font-semibold rounded-lg border-2 border-gray-300 w-full sm:w-auto order-2 sm:order-1">
                            <svg class="w-5 h-5 mr-2 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                            </svg>
                            Previous
                        </button>
                        <button type="button" onclick="nextStep()" class="btn-primary px-4 sm:px-8 py-3 text-white font-semibold rounded-lg shadow-lg w-full sm:w-auto order-1 sm:order-2">
                            Next Step
                            <svg class="w-5 h-5 ml-2 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Step 3: Parent Information -->
                <div id="step3" class="step-content hidden">
                    <div class="section-card bg-gray-50 rounded-xl p-6 mb-6">
                        <div class="flex items-center mb-4">
                            <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3">
                                <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                                </svg>
                            </div>
                            <h2 class="text-xl font-semibold text-gray-900">Parent/Guardian Information</h2>
                        </div>
                        <p class="text-gray-600 mb-6">Emergency contact and guardian details</p>

                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                            <!-- Parent First Name -->
                            <div class="input-group">
                                <input 
                                    type="text" 
                                    id="parentFirstName" 
                                    name="parentFirstName"
                                    class="form-input w-full px-4 py-3 border-2 border-gray-300 rounded-lg text-gray-900 placeholder-transparent"
                                    placeholder="Parent First Name"
                                    required
                                    pattern="[A-Za-z\s]+"
                                    title="Parent first name can only contain letters and spaces"
                                >
                                <label for="parentFirstName" class="floating-label">Parent/Guardian First Name</label>
                            </div>

                            <!-- Parent Last Name -->
                            <div class="input-group">
                                <input 
                                    type="text" 
                                    id="parentLastName" 
                                    name="parentLastName"
                                    class="form-input w-full px-4 py-3 border-2 border-gray-300 rounded-lg text-gray-900 placeholder-transparent"
                                    placeholder="Parent Last Name"
                                    required
                                    pattern="[A-Za-z\s]+"
                                    title="Parent last name can only contain letters and spaces"
                                >
                                <label for="parentLastName" class="floating-label">Parent/Guardian Last Name</label>
                            </div>

                            <!-- Parent Email -->
                            <div class="input-group">
                                <input 
                                    type="email" 
                                    id="parentEmail" 
                                    name="parentEmail"
                                    class="form-input w-full px-4 py-3 border-2 border-gray-300 rounded-lg text-gray-900 placeholder-transparent"
                                    placeholder="Parent Email"
                                    required
                                >
                                <label for="parentEmail" class="floating-label">Parent/Guardian Email</label>
                            </div>

                            <!-- Parent Phone -->
                            <div class="input-group">
                                <input 
                                    type="tel" 
                                    id="parentPhone" 
                                    name="parentPhone"
                                    class="form-input w-full px-4 py-3 border-2 border-gray-300 rounded-lg text-gray-900 placeholder-transparent"
                                    placeholder="Parent Phone"
                                    required
                                    pattern="[0-9\-\+\(\)\s]+"
                                    title="Please enter a valid phone number"
                                >
                                <label for="parentPhone" class="floating-label">Parent/Guardian Phone</label>
                            </div>

                            <!-- Relationship -->
                            <div class="input-group sm:col-span-2">
                                <select 
                                    id="relationship" 
                                    name="relationship"
                                    class="form-input w-full px-4 py-3 border-2 border-gray-300 rounded-lg text-gray-900"
                                    required
                                >
                                    <option value="">Select Relationship</option>
                                    <option value="mother">Mother</option>
                                    <option value="father">Father</option>
                                    <option value="guardian">Legal Guardian</option>
                                    <option value="grandmother">Grandmother</option>
                                    <option value="grandfather">Grandfather</option>
                                    <option value="aunt">Aunt</option>
                                    <option value="uncle">Uncle</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Terms and Conditions -->
                    <div class="bg-blue-50 rounded-xl p-6 mb-6">
                        <div class="flex items-start">
                            <input 
                                type="checkbox" 
                                id="terms" 
                                name="terms"
                                class="mt-1 mr-3 w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"
                                required
                            >
                            <label for="terms" class="text-sm text-gray-700">
                                I agree to the <a href="#" class="text-indigo-600 hover:text-indigo-800 font-medium">Terms and Conditions</a> 
                                and <a href="#" class="text-indigo-600 hover:text-indigo-800 font-medium">Privacy Policy</a>. 
                                I understand that this information will be used for educational purposes and emergency contact.
                            </label>
                        </div>
                    </div>

                    <!-- Navigation -->
                    <div class="flex flex-col sm:flex-row justify-between gap-4">
                        <button type="button" onclick="prevStep()" class="btn-secondary px-4 sm:px-8 py-3 text-gray-700 font-semibold rounded-lg border-2 border-gray-300 w-full sm:w-auto order-2 sm:order-1">
                            <svg class="w-5 h-5 mr-2 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                            </svg>
                            Previous
                        </button>
                        <button type="submit" class="btn-primary px-4 sm:px-8 py-3 text-white font-semibold rounded-lg shadow-lg w-full sm:w-auto order-1 sm:order-2">
                            <svg class="w-5 h-5 mr-2 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            Complete Registration
                        </button>
                    </div>
                </div>
            </form>
        </div>

        <!-- Success Message (Hidden by default) -->
        <div id="successMessage" class="hidden form-container rounded-2xl shadow-2xl p-8 text-center fade-in">
            <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
            </div>
            <h2 class="text-2xl font-bold text-gray-900 mb-2">Registration Successful!</h2>
            <p class="text-gray-600 mb-6">Welcome to our school! Your account has been created successfully.</p>
            <div class="bg-gray-50 rounded-lg p-4 mb-6">
                <p class="text-sm text-gray-700">
                    <strong>Next Steps:</strong><br>
                    • Check your email for account verification<br>
                    • Complete your student profile<br>
                    • Schedule your orientation session
                </p>
            </div>
            <button onclick="resetForm()" class="btn-primary px-4 sm:px-8 py-3 text-white font-semibold rounded-lg shadow-lg w-full sm:w-auto">
                Register Another Student
            </button>
        </div>
    </div>

    <script>
        let currentStep = 1;
        const totalSteps = 3;

        // Form validation and step management
        function nextStep() {
            if (validateCurrentStep()) {
                if (currentStep < totalSteps) {
                    // Hide current step
                    document.getElementById(`step${currentStep}`).classList.add('hidden');
                    
                    // Update step indicator
                    document.querySelectorAll('.step-indicator')[currentStep - 1].classList.remove('active');
                    document.querySelectorAll('.step-indicator')[currentStep - 1].classList.add('completed');
                    
                    // Move to next step
                    currentStep++;
                    
                    // Show next step
                    document.getElementById(`step${currentStep}`).classList.remove('hidden');
                    document.getElementById(`step${currentStep}`).classList.add('fade-in');
                    
                    // Update step indicator
                    document.querySelectorAll('.step-indicator')[currentStep - 1].classList.add('active');
                    
                    // Update progress bar
                    updateProgressBar();
                    
                    // Scroll to top
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            }
        }

        function prevStep() {
            if (currentStep > 1) {
                // Hide current step
                document.getElementById(`step${currentStep}`).classList.add('hidden');
                
                // Update step indicator
                document.querySelectorAll('.step-indicator')[currentStep - 1].classList.remove('active');
                
                // Move to previous step
                currentStep--;
                
                // Show previous step
                document.getElementById(`step${currentStep}`).classList.remove('hidden');
                document.getElementById(`step${currentStep}`).classList.add('fade-in');
                
                // Update step indicator
                document.querySelectorAll('.step-indicator')[currentStep - 1].classList.remove('completed');
                document.querySelectorAll('.step-indicator')[currentStep - 1].classList.add('active');
                
                // Update progress bar
                updateProgressBar();
                
                // Scroll to top
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        function updateProgressBar() {
            const progressBars = document.querySelectorAll('.progress-bar');
            const progressPercentage = ((currentStep - 1) / (totalSteps - 1)) * 100;
            
            // Update first progress bar (between steps 1 and 2)
            if (currentStep >= 2) {
                progressBars[0].style.width = '100%';
            } else {
                progressBars[0].style.width = '0%';
            }
            
            // Update second progress bar (between steps 2 and 3)
            if (currentStep >= 3) {
                progressBars[1].style.width = '100%';
            } else {
                progressBars[1].style.width = '0%';
            }
        }

        function validateCurrentStep() {
            const currentStepElement = document.getElementById(`step${currentStep}`);
            const requiredFields = currentStepElement.querySelectorAll('[required]');
            let isValid = true;

            requiredFields.forEach(field => {
                if (!field.value.trim()) {
                    field.classList.add('border-red-500');
                    isValid = false;
                    
                    // Add shake animation
                    field.classList.add('animate-pulse');
                    setTimeout(() => {
                        field.classList.remove('animate-pulse');
                    }, 1000);
                } else {
                    field.classList.remove('border-red-500');
                    field.classList.add('border-green-500');
                }

                // Validate specific field types
                if (field.type === 'email' && field.value && !isValidEmail(field.value)) {
                    field.classList.add('border-red-500');
                    isValid = false;
                }

                if (field.type === 'password' && field.value && !isValidPassword(field.value)) {
                    field.classList.add('border-red-500');
                    isValid = false;
                }
            });

            if (!isValid) {
                // Show error message
                showNotification('Please fill in all required fields correctly.', 'error');
            }

            return isValid;
        }

        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        function isValidPassword(password) {
            return password.length >= 6;
        }

        function showNotification(message, type = 'info') {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg max-w-sm transform transition-all duration-300 translate-x-full`;
            
            if (type === 'error') {
                notification.classList.add('bg-red-500', 'text-white');
            } else if (type === 'success') {
                notification.classList.add('bg-green-500', 'text-white');
            } else {
                notification.classList.add('bg-blue-500', 'text-white');
            }
            
            notification.innerHTML = `
                <div class="flex items-center">
                    <span class="flex-1">${message}</span>
                    <button onclick="this.parentElement.parentElement.remove()" class="ml-2 text-white hover:text-gray-200">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.classList.remove('translate-x-full');
            }, 100);
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                notification.classList.add('translate-x-full');
                setTimeout(() => {
                    if (notification.parentElement) {
                        notification.remove();
                    }
                }, 300);
            }, 5000);
        }

        // Form submission
        document.getElementById('studentForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (validateCurrentStep()) {
                // Simulate form submission
                const submitButton = e.target.querySelector('button[type="submit"]');
                const originalText = submitButton.innerHTML;
                
                // Show loading state
                submitButton.innerHTML = `
                    <svg class="animate-spin w-5 h-5 mr-2 inline" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                    Processing...
                `;
                submitButton.disabled = true;
                
                // Simulate API call
                setTimeout(() => {
                    // Hide form and show success message
                    document.querySelector('.form-container').classList.add('hidden');
                    document.getElementById('successMessage').classList.remove('hidden');
                    
                    // Show success notification
                    showNotification('Registration completed successfully!', 'success');
                    
                    // Scroll to top
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    
                    // Reset button
                    submitButton.innerHTML = originalText;
                    submitButton.disabled = false;
                }, 2000);
            }
        });

        // Reset form function
        function resetForm() {
            // Reset form
            document.getElementById('studentForm').reset();
            
            // Reset profile image
            const previewImg = document.getElementById('previewImg');
            const placeholderContent = document.getElementById('placeholderContent');
            const removeButton = document.getElementById('removeImage');
            const imagePreview = document.getElementById('imagePreview');
            
            previewImg.classList.add('hidden');
            previewImg.src = '';
            placeholderContent.classList.remove('hidden');
            removeButton.classList.add('hidden');
            removeButton.classList.remove('flex');
            imagePreview.classList.add('border-dashed');
            imagePreview.classList.remove('border-solid', 'border-indigo-300');
            
            // Reset step
            currentStep = 1;
            
            // Hide all steps except first
            for (let i = 2; i <= totalSteps; i++) {
                document.getElementById(`step${i}`).classList.add('hidden');
            }
            document.getElementById('step1').classList.remove('hidden');
            
            // Reset step indicators
            document.querySelectorAll('.step-indicator').forEach((indicator, index) => {
                indicator.classList.remove('active', 'completed');
                if (index === 0) {
                    indicator.classList.add('active');
                }
            });
            
            // Reset progress bars
            document.querySelectorAll('.progress-bar').forEach(bar => {
                bar.style.width = '0%';
            });
            document.querySelectorAll('.progress-bar')[0].style.width = '100%';
            
            // Show form and hide success message
            document.querySelector('.form-container').classList.remove('hidden');
            document.getElementById('successMessage').classList.add('hidden');
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Real-time validation
        document.addEventListener('input', function(e) {
            if (e.target.classList.contains('form-input')) {
                if (e.target.value.trim()) {
                    e.target.classList.remove('border-red-500');
                    e.target.classList.add('border-green-500');
                } else {
                    e.target.classList.remove('border-green-500');
                }
            }
        });

        // Profile image upload functionality
        document.getElementById('profileImage').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                // Validate file size (20MB max)
                if (file.size > 20 * 1024 * 1024) {
                    showNotification('Image size must be less than 20MB', 'error');
                    e.target.value = '';
                    return;
                }

                // Validate file type
                if (!file.type.startsWith('image/')) {
                    showNotification('Please select a valid image file', 'error');
                    e.target.value = '';
                    return;
                }

                const reader = new FileReader();
                reader.onload = function(e) {
                    const previewImg = document.getElementById('previewImg');
                    const placeholderContent = document.getElementById('placeholderContent');
                    const removeButton = document.getElementById('removeImage');
                    const imagePreview = document.getElementById('imagePreview');

                    previewImg.src = e.target.result;
                    previewImg.classList.remove('hidden');
                    placeholderContent.classList.add('hidden');
                    removeButton.classList.remove('hidden');
                    removeButton.classList.add('flex');
                    imagePreview.classList.remove('border-dashed');
                    imagePreview.classList.add('border-solid', 'border-indigo-300');
                };
                reader.readAsDataURL(file);
            }
        });

        // Remove image functionality
        document.getElementById('removeImage').addEventListener('click', function() {
            const previewImg = document.getElementById('previewImg');
            const placeholderContent = document.getElementById('placeholderContent');
            const removeButton = document.getElementById('removeImage');
            const imagePreview = document.getElementById('imagePreview');
            const fileInput = document.getElementById('profileImage');

            previewImg.classList.add('hidden');
            previewImg.src = '';
            placeholderContent.classList.remove('hidden');
            removeButton.classList.add('hidden');
            removeButton.classList.remove('flex');
            imagePreview.classList.add('border-dashed');
            imagePreview.classList.remove('border-solid', 'border-indigo-300');
            fileInput.value = '';
        });

        // Drag and drop functionality for image upload
        const imagePreview = document.getElementById('imagePreview');
        
        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
            imagePreview.addEventListener(eventName, preventDefaults, false);
        });

        function preventDefaults(e) {
            e.preventDefault();
            e.stopPropagation();
        }

        ['dragenter', 'dragover'].forEach(eventName => {
            imagePreview.addEventListener(eventName, highlight, false);
        });

        ['dragleave', 'drop'].forEach(eventName => {
            imagePreview.addEventListener(eventName, unhighlight, false);
        });

        function highlight(e) {
            imagePreview.classList.add('border-indigo-500', 'bg-indigo-100');
        }

        function unhighlight(e) {
            imagePreview.classList.remove('border-indigo-500', 'bg-indigo-100');
        }

        imagePreview.addEventListener('drop', handleDrop, false);

        function handleDrop(e) {
            const dt = e.dataTransfer;
            const files = dt.files;
            
            if (files.length > 0) {
                const fileInput = document.getElementById('profileImage');
                fileInput.files = files;
                
                // Trigger the change event
                const event = new Event('change', { bubbles: true });
                fileInput.dispatchEvent(event);
            }
        }

        // Initialize form
        document.addEventListener('DOMContentLoaded', function() {
            // Set initial progress bar
            updateProgressBar();
            
            // Add floating label behavior for select elements
            document.querySelectorAll('select').forEach(select => {
                select.addEventListener('change', function() {
                    if (this.value) {
                        this.classList.add('has-value');
                    } else {
                        this.classList.remove('has-value');
                    }
                });
            });
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97a30e7b24abfedd',t:'MTc1NzA0NzMxMC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
